<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>OTP Verification</title>
    <style>
        body {
            background-color: #f7f7e6;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            display: flex;
            justify-content: center;
            align-items: center;
            height: 100vh;
            margin: 0;
        }

        .otp-container {
            background-color: white;
            border-radius: 20px;
            box-shadow: 0 8px 20px rgba(0, 0, 0, 0.1);
            padding: 40px 30px;
            width: 400px;
            text-align: center;
        }

        .otp-container img {
            width: 150px;
            margin-bottom: 20px;
        }

        h2 {
            color: #3b6064;
            margin-bottom: 10px;
        }

        p {
            font-size: 14px;
            color: #555;
            margin-bottom: 30px;
        }

        .otp-inputs {
            display: flex;
            justify-content: space-between;
            margin-bottom: 20px;
        }

        .otp-inputs input {
            width: 45px;
            height: 55px;
            text-align: center;
            font-size: 24px;
            border: 2px solid #68b0ab;
            border-radius: 10px;
            outline: none;
            background-color: #f7f7e6;
        }

        .otp-actions {
            margin-top: 15px;
            font-size: 13px;
        }

        .otp-actions a {
            color: #3b6064;
            text-decoration: none;
            font-weight: bold;
        }

        .verify-btn {
            background-color: #3b6064;
            color: white;
            border: none;
            border-radius: 30px;
            padding: 12px 30px;
            font-size: 16px;
            cursor: pointer;
            margin-top: 15px;
        }

        .verify-btn:hover {
            background-color: #2e4f51;
        }

        .resend-code {
            font-size: 13px;
            margin-top: 15px;
            color: #3b6064;
            text-decoration: underline;
            cursor: pointer;
        }
    </style>
</head>

<body>

    <div class="otp-container">
        <img src="Assets/otp.png" alt="Email Icon"> <!-- Use your own icon or illustration -->
        <h2>Verify Your Email Address</h2>
        <p>Please enter the 6-digit code sent to <strong id="email-display">your email</strong> to continue.</p>
        <div class="otp-inputs">
            <input type="text" maxlength="1">
            <input type="text" maxlength="1">
            <input type="text" maxlength="1">
            <input type="text" maxlength="1">
            <input type="text" maxlength="1">
            <input type="text" maxlength="1">
        </div>

        <button class="verify-btn">Verify Email</button>

        <div class="otp-actions">
            <p>Want to change your email? <a href="auth.html#sign-up" id="change-email-link">Change here</a></p>
        </div>

        <div class="resend-code">Resend Code</div>
    </div>
    <script>
        // Auto display stored email
        const userEmail = localStorage.getItem("signup_email");
        if (userEmail) {
            document.getElementById("email-display").textContent = userEmail;
        }

        // OTP input handling
        const inputs = document.querySelectorAll('.otp-inputs input');
        inputs.forEach((input, index) => {
            input.addEventListener('keypress', (e) => {
                if (!/[0-9]/.test(e.key)) {
                    e.preventDefault();
                }
            });

            input.addEventListener('input', (e) => {
                const value = e.target.value;
                if (value.length === 1 && index < inputs.length - 1) {
                    inputs[index + 1].focus();
                }
            });

            input.addEventListener('keydown', (e) => {
                if (e.key === 'Backspace' && e.target.value === '' && index > 0) {
                    inputs[index - 1].focus();
                }
            });

            input.addEventListener('paste', (e) => {
                e.preventDefault();
                const data = e.clipboardData.getData('text').replace(/\D/g, '').slice(0, inputs.length);
                data.split('').forEach((char, i) => {
                    inputs[i].value = char;
                });
                if (data.length === inputs.length) inputs[inputs.length - 1].focus();
            });
        });

        // OTP verification
        document.querySelector(".verify-btn").addEventListener("click", () => {
            let otp = '';
            inputs.forEach(input => otp += input.value);

            if (otp === "123456") { // Simulated correct OTP
                alert("✅ OTP Verified");
                window.location.href = "set-password.html";
            } else {
                alert("❌ Incorrect OTP. Please try again.");
            }
        });

        // When clicking "Change here", redirect without clearing inputs
        document.getElementById("change-email-link").addEventListener("click", function (e) {
            e.preventDefault();
            window.location.href = "auth.html#sign-up";
        });
    </script>

</body>

</html>